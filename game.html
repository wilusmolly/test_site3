<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>자바스크립트 문법 총망라</title>
    <style>
        *{margin:0px;}
        #wrapper{
            width:100%;
            height:650px;
            background:url("./images/bg.jpg");
        }   
       
    </style>
    <script src="./GameObject.js"></script>
    <script src="./Ship.js"></script>
    <script>
        //함수란? 재사용가능성이 높은 코드영역에 이름
        //을 붙인 단위로 필요할때마다 호출해서 쓴다 
        var bgX=0;//배경을 조절하는 변수
        var wrapper;

        function init(){            //문서내의 wrapper 의 배경의 x좌표값을 감소

            //메모리에 올라온 여러 DOM 중 하나를 선택
            //하기 위한 메서드 사용...
            wrapper=document.getElementById("wrapper");
            wrapper.style.backgroundPosition=bgX+"px 0px";
            createShip();
            bgMove();
            createArrow();//화살 생성!!
        }        
        function bgMove(){
            //전역변수 x의 값을 점점 감소시켜보자!!
            bgX=bgX-10; //대입연산자....
            wrapper.style.backgroundPosition=bgX+"px 0px";

            ship.style.left=x+"px"; //x축
            ship.style.top=y+"px"; //x축

            //주의할점: setTimeout과 setInterval 비교..
            setTimeout("bgMove()" ,100);
        }
        //우주선 등장 함수!!!
        function createShip(){
            var ship=new Ship(wrapper,100, 150, 100,65,15,15,"./images/ship.png");
        }
        function control(){
            var key=event.keyCode;
            
            if(key == 37){
                x=x-5;
            }else if(key == 39){
                x=x+5;
            }else if(key == 38){
                y=y-5;
            }else if(key == 40){
                y=y+5;
            }else if(key==32){//스페이스 바 누르면 총알 발사!!

            }

        }
    </script>        
</head>

<body onLoad="init()" onKeyDown="control()">
    <div id="wrapper"></div>
</body>

</html>